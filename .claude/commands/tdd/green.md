---
description: TDD緑フェーズ - テストを通す最小限の実装を行う
---

# TDD - 緑フェーズ（Green Phase）

## 目的
赤フェーズで書いた失敗するテストを通すための最小限の実装を行います。

## 前提条件
- 赤フェーズで書いたテストが失敗していることを確認済み

## 実施手順

1. **テストを通す実装を書く**
   - テストを通すための最小限のコードを追加
   - 過度な設計や抽象化は避ける
   - 将来の拡張性は考慮しない（YAGNI原則）

2. **テストを実行**
   - すべてのテストが通ることを確認
   - 新しいテストだけでなく既存のテストも確認

3. **実装の確認**
   - テストが通った理由が正しいか確認
   - 想定外の方法で通っていないか検証

## テスト実行例

### Python
```bash
# uv.lockがある場合
uv run python -m pytest -v

# poetry.lockがある場合
poetry run python -m pytest -v

# それ以外
python -m pytest -v
```

### Go
```bash
go test ./... -v
```

### Node.js
```bash
npm test
```

## 重要な原則

- **最小限の実装**: テストを通すのに必要な最小限のコードのみ
- **過度な抽象化の回避**: 1回しか使わない処理のためのヘルパーは作らない
- **コメント**: WHYを書く（なぜこの実装方法を選んだか）
- **セキュリティ**: XSS、SQLインジェクション等の脆弱性に注意
- **ハードコーディング禁止**: パスワードやAPIキーを含めない

## 避けるべきパターン

- 使われていないパラメータを `_var` にリネーム
- 削除したコードに `// removed` コメント
- 型の再エクスポート
- 起こりえないシナリオのエラーハンドリング

## 次のステップ

すべてのテストが通ったら `/tdd-refactor` でリファクタリングフェーズへ
